
<html>
    <head>
        <title>{{ title }} - Genre Editor</title>
        <link href="{{ url_for('static', filename='bootstrap.min.css') }}" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <h1>Hello, {{ user.username }}!</h1>

            <form>
                <div class="form-group">
                    <label for="genreSelect">Select Genre</label>
                    <select class="form-control" id="genreSelect">
                    <option>Legal</option>
                    <option>Military</option>
                    <option>Monsters</option>
                    <option>Politics</option>
                    <option>Space</option>
                    <option>Science</option>
                    <option>Technology</option>
                    <option>Religion</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="textEditor">Start writing!</label>
                    <textarea class="form-control" id="textEditor" rows="10"></textarea>
                </div>
            </form>
        </div>
    </body>
</html>



{% block scripts %}
    <script src="{{ url_for('static', filename='bootstrap.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='jquery.min.js') }}" type="text/javascript"></script>
    <script>
        // https://stackoverflow.com/a/28084275
        $('#textEditor').on('keydown', function(evt) {
            if (evt.key === 'Tab') {
                evt.preventDefault();
                var genre = $('#genreSelect').val();
                var text = $('#textEditor').val();
                // Get predicted generated texts
                $.ajax({
                    type : 'POST',
                    url : "{{url_for('generate')}}",
                    dataType:'json',
                    contentType: 'application/json;charset=utf-8',
                    data : JSON.stringify({'genre': genre, 'text': text}),
                    success: function(res){
                        
                    },
                });
            }
        });
    </script>
{% endblock %}
